function isObject(item) {
    return item !== null && typeof item === 'object' && !Array.isArray(item);
}
/**
 * Deep merge two objects
 * @param target - The base object (defaults)
 * @param source - The object to merge in (user config)
 * @returns Merged object
 */
export function deepMerge(target, source) {
    const output = { ...target };
    for (const key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
            const sourceValue = source[key];
            const targetValue = target[key];
            if (sourceValue === undefined) {
                continue;
            }
            if (Array.isArray(sourceValue)) {
                if (key === 'include' && Array.isArray(targetValue)) {
                    ;
                    output[key] = [...targetValue, ...sourceValue];
                }
                else {
                    ;
                    output[key] = [...sourceValue];
                }
                continue;
            }
            if (isObject(sourceValue) && isObject(targetValue)) {
                ;
                output[key] = deepMerge(targetValue, sourceValue);
                continue;
            }
            ;
            output[key] = sourceValue;
        }
    }
    return output;
}
//# sourceMappingURL=merge.js.map